<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STARTCOPE NEWS</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
            min-height: 100vh;
            color: #fff;
            background-attachment: fixed;
        }
        .animated-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }
        .animated-bg::before {
            content: '';
            position: absolute;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle at 20% 80%, rgba(233, 69, 96, 0.15) 0%, transparent 50%),
                        radial-gradient(circle at 80% 20%, rgba(138, 43, 226, 0.15) 0%, transparent 50%),
                        radial-gradient(circle at 40% 40%, rgba(0, 212, 255, 0.1) 0%, transparent 40%);
            animation: moveBg 20s ease-in-out infinite;
        }
        @keyframes moveBg {
            0%, 100% { transform: translate(0, 0); }
            50% { transform: translate(-20%, -20%); }
        }
        .time-bar {
            background: rgba(0,0,0,0.6);
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
        }
        .time-display {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #ffd93d;
            font-weight: 500;
        }
        .time-display i {
            font-size: 1.2rem;
        }
        .profile-mini {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .profile-mini img {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            border: 2px solid #e94560;
        }
        header {
            background: linear-gradient(135deg, #e94560 0%, #ff6b6b 50%, #ee5a24 100%);
            padding: 25px 20px;
            text-align: center;
            box-shadow: 0 8px 32px rgba(233, 69, 96, 0.4);
            position: relative;
            overflow: hidden;
        }
        header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shine 3s infinite;
        }
        @keyframes shine {
            0% { transform: translateX(-100%) rotate(45deg); }
            100% { transform: translateX(100%) rotate(45deg); }
        }
        header h1 {
            font-size: 3rem;
            font-weight: 800;
            letter-spacing: 5px;
            text-transform: uppercase;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.3);
            position: relative;
        }
        header p {
            font-size: 1rem;
            opacity: 0.95;
            margin-top: 8px;
            font-weight: 300;
        }
        nav {
            background: rgba(0,0,0,0.3);
            padding: 15px;
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            backdrop-filter: blur(10px);
        }
        nav a {
            color: #fff;
            text-decoration: none;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: 500;
            transition: all 0.3s;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            font-size: 0.9rem;
        }
        nav a:hover {
            background: #e94560;
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(233, 69, 96, 0.4);
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px 15px;
        }
        .hero-section {
            text-align: center;
            padding: 50px 20px;
            background: rgba(255,255,255,0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            margin: 20px auto;
            max-width: 900px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .profile-image {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            border: 4px solid #e94560;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(233, 69, 96, 0.4);
        }
        .hero-section h2 {
            font-size: 2.2rem;
            margin-bottom: 20px;
            background: linear-gradient(135deg, #e94560, #ff6b6b, #ffd93d);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .hero-section p {
            font-size: 1rem;
            color: #b0b0b0;
            margin-bottom: 25px;
            line-height: 1.8;
        }
        .btn-primary {
            display: inline-block;
            padding: 15px 35px;
            background: linear-gradient(135deg, #e94560, #ff6b6b);
            color: #fff;
            text-decoration: none;
            border-radius: 30px;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(233, 69, 96, 0.4);
        }
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(233, 69, 96, 0.6);
        }
        .search-section {
            max-width: 700px;
            margin: 25px auto;
            padding: 0 15px;
        }
        .search-box {
            display: flex;
            gap: 10px;
            background: rgba(255,255,255,0.1);
            padding: 8px;
            border-radius: 50px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
        }
        .search-box input {
            flex: 1;
            padding: 12px 20px;
            border: none;
            border-radius: 30px;
            font-size: 0.95rem;
            background: rgba(255,255,255,0.1);
            color: #fff;
            outline: none;
        }
        .search-box input::placeholder {
            color: rgba(255,255,255,0.6);
        }
        .search-box button {
            padding: 12px 25px;
            background: linear-gradient(135deg, #e94560, #ff6b6b);
            border: none;
            border-radius: 30px;
            color: #fff;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .search-box button:hover {
            transform: scale(1.05);
        }
        .section-title {
            text-align: center;
            font-size: 1.8rem;
            margin: 35px 0 25px;
            color: #fff;
        }
        .section-title span {
            color: #e94560;
        }
        .news-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 25px;
        }
        .news-card {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 20px;
            overflow: hidden;
            transition: all 0.4s;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
        }
        .news-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 40px rgba(233, 69, 96, 0.3);
            border-color: rgba(233, 69, 96, 0.5);
        }
        .news-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            background: linear-gradient(135deg, #2a2a4a, #1a1a3a);
        }
        .news-image.placeholder {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3.5rem;
            color: #e94560;
        }
        .news-content {
            padding: 20px;
        }
        .news-source {
            color: #e94560;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            margin-bottom: 10px;
            display: inline-block;
            background: rgba(233, 69, 96, 0.15);
            padding: 4px 10px;
            border-radius: 12px;
        }
        .news-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 12px;
            line-height: 1.4;
        }
        .news-title a {
            color: #fff;
            text-decoration: none;
            transition: color 0.3s;
        }
        .news-title a:hover {
            color: #e94560;
        }
        .news-description {
            font-size: 0.9rem;
            color: #a0a0a0;
            line-height: 1.6;
            margin-bottom: 15px;
        }
        .news-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 12px;
            border-top: 1px solid rgba(255,255,255,0.1);
            flex-wrap: wrap;
            gap: 10px;
        }
        .news-date {
            font-size: 0.8rem;
            color: #666;
        }
        .news-actions {
            display: flex;
            gap: 8px;
        }
        .action-btn {
            padding: 6px 12px;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 0.8rem;
            font-weight: 500;
        }
        .like-btn {
            background: rgba(233, 69, 96, 0.2);
            color: #e94560;
        }
        .like-btn:hover, .like-btn.liked {
            background: #e94560;
            color: #fff;
        }
        .share-btn {
            background: rgba(0, 149, 246, 0.2);
            color: #0095f6;
        }
        .share-btn:hover {
            background: #0095f6;
            color: #fff;
        }
        .about-section {
            background: rgba(255,255,255,0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 50px 30px;
            margin: 50px auto;
            max-width: 1000px;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .about-section h2 {
            font-size: 2rem;
            margin-bottom: 20px;
            color: #e94560;
        }
        .about-section p {
            font-size: 1rem;
            line-height: 1.8;
            color: #b0b0b0;
            margin-bottom: 12px;
        }
        .about-section .creator {
            font-size: 1.2rem;
            font-weight: 600;
            color: #fff;
            margin-top: 25px;
            padding: 18px;
            background: linear-gradient(135deg, rgba(233, 69, 96, 0.2), rgba(138, 43, 226, 0.2));
            border-radius: 15px;
        }
        .about-section .powered {
            font-size: 0.95rem;
            color: #ffd93d;
            margin-top: 12px;
        }
        .contact-section {
            background: linear-gradient(135deg, rgba(233, 69, 96, 0.1), rgba(138, 43, 226, 0.1));
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 50px 30px;
            margin: 50px auto;
            max-width: 800px;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .contact-section h2 {
            font-size: 1.8rem;
            margin-bottom: 25px;
            color: #fff;
        }
        .contact-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }
        .contact-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 12px 25px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: 600;
            font-size: 0.95rem;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
        }
        .facebook-btn {
            background: linear-gradient(135deg, #1877f2, #3b5998);
            color: #fff;
        }
        .facebook-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(24, 119, 242, 0.4);
        }
        .email-btn {
            background: linear-gradient(135deg, #e94560, #ff6b6b);
            color: #fff;
        }
        .email-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(233, 69, 96, 0.4);
        }
        footer {
            background: rgba(0,0,0,0.5);
            padding: 35px 20px;
            text-align: center;
            margin-top: 50px;
        }
        footer p {
            color: #666;
            font-size: 0.85rem;
            margin-bottom: 8px;
        }
        footer .brand {
            font-size: 1.3rem;
            font-weight: 700;
            color: #e94560;
            letter-spacing: 3px;
        }
        .loading {
            text-align: center;
            padding: 60px 20px;
        }
        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 4px solid rgba(233, 69, 96, 0.2);
            border-top-color: #e94560;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        .error {
            text-align: center;
            padding: 40px;
            color: #ff6b6b;
            background: rgba(255, 107, 107, 0.1);
            border-radius: 20px;
            margin: 20px;
        }
        /* ChatGPT Helper Button */
        .chat-btn {
            position: fixed;
            bottom: 25px;
            right: 25px;
            z-index: 1000;
            width: 70px;
            height: 70px;
            border-radius: 50%;
            border: 3px solid #e94560;
            cursor: pointer;
            overflow: hidden;
            animation: pulse 2s infinite, spinBorder 3s linear infinite;
            box-shadow: 0 5px 25px rgba(233, 69, 96, 0.5);
            background: linear-gradient(135deg, #e94560, #ff6b6b);
            padding: 3px;
        }
        .chat-btn img {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        @keyframes spinBorder {
            0% { box-shadow: 0 0 0 3px #e94560, 0 0 20px #e94560; }
            50% { box-shadow: 0 0 0 3px #ff6b6b, 0 0 30px #ff6b6b; }
            100% { box-shadow: 0 0 0 3px #e94560, 0 0 20px #e94560; }
        }
        .chat-btn::before {
            content: '';
            position: absolute;
            top: -3px;
            left: -3px;
            right: -3px;
            bottom: -3px;
            border-radius: 50%;
            border: 3px solid transparent;
            border-top-color: #ffd93d;
            animation: rotateBorder 1.5s linear infinite;
        }
        @keyframes rotateBorder {
            to { transform: rotate(360deg); }
        }
        .chat-label {
            position: fixed;
            bottom: 100px;
            right: 20px;
            background: linear-gradient(135deg, #e94560, #ff6b6b);
            color: #fff;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            z-index: 999;
            box-shadow: 0 5px 15px rgba(233, 69, 96, 0.4);
            animation: bounce 2s infinite;
        }
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }
        /* Chat Modal */
        .chat-modal {
            display: none;
            position: fixed;
            bottom: 110px;
            right: 25px;
            width: 350px;
            max-width: calc(100vw - 40px);
            height: 500px;
            max-height: calc(100vh - 150px);
            background: rgba(15, 12, 41, 0.98);
            border-radius: 20px;
            border: 1px solid rgba(233, 69, 96, 0.3);
            z-index: 1001;
            flex-direction: column;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
            backdrop-filter: blur(20px);
        }
        .chat-modal.active {
            display: flex;
        }
        .chat-header {
            background: linear-gradient(135deg, #e94560, #ff6b6b);
            padding: 15px;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .chat-header img {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            border: 2px solid #fff;
        }
        .chat-header-info h3 {
            font-size: 1rem;
            font-weight: 600;
        }
        .chat-header-info p {
            font-size: 0.75rem;
            opacity: 0.9;
        }
        .chat-close {
            margin-left: auto;
            background: rgba(255,255,255,0.2);
            border: none;
            color: #fff;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1rem;
        }
        .chat-messages {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        .message {
            max-width: 85%;
            padding: 12px 15px;
            border-radius: 18px;
            font-size: 0.9rem;
            line-height: 1.5;
        }
        .message.bot {
            background: rgba(233, 69, 96, 0.2);
            align-self: flex-start;
            border-bottom-left-radius: 5px;
        }
        .message.user {
            background: linear-gradient(135deg, #e94560, #ff6b6b);
            align-self: flex-end;
            border-bottom-right-radius: 5px;
        }
        .chat-input-area {
            padding: 15px;
            border-top: 1px solid rgba(255,255,255,0.1);
            display: flex;
            gap: 10px;
        }
        .chat-input-area input {
            flex: 1;
            padding: 12px 15px;
            border: none;
            border-radius: 25px;
            background: rgba(255,255,255,0.1);
            color: #fff;
            font-size: 0.9rem;
            outline: none;
        }
        .chat-input-area input::placeholder {
            color: rgba(255,255,255,0.5);
        }
        .chat-input-area button {
            padding: 12px 20px;
            background: linear-gradient(135deg, #e94560, #ff6b6b);
            border: none;
            border-radius: 25px;
            color: #fff;
            cursor: pointer;
            font-weight: 600;
        }
        .typing-indicator {
            display: flex;
            gap: 5px;
            padding: 12px 15px;
            background: rgba(233, 69, 96, 0.2);
            border-radius: 18px;
            align-self: flex-start;
            border-bottom-left-radius: 5px;
        }
        .typing-indicator span {
            width: 8px;
            height: 8px;
            background: #e94560;
            border-radius: 50%;
            animation: typingBounce 1.4s infinite;
        }
        .typing-indicator span:nth-child(2) { animation-delay: 0.2s; }
        .typing-indicator span:nth-child(3) { animation-delay: 0.4s; }
        @keyframes typingBounce {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-8px); }
        }
        @media (max-width: 768px) {
            header h1 {
                font-size: 1.8rem;
                letter-spacing: 2px;
            }
            .hero-section h2 {
                font-size: 1.5rem;
            }
            .hero-section {
                padding: 35px 15px;
            }
            .profile-image {
                width: 100px;
                height: 100px;
            }
            .news-grid {
                grid-template-columns: 1fr;
            }
            .search-box {
                flex-direction: column;
            }
            .search-box button {
                width: 100%;
                justify-content: center;
            }
            nav {
                gap: 8px;
                padding: 10px;
            }
            nav a {
                padding: 8px 12px;
                font-size: 0.8rem;
            }
            .chat-btn {
                width: 60px;
                height: 60px;
                bottom: 20px;
                right: 20px;
            }
            .chat-label {
                bottom: 85px;
                right: 15px;
                font-size: 0.75rem;
                padding: 6px 12px;
            }
            .chat-modal {
                right: 10px;
                bottom: 95px;
                width: calc(100vw - 20px);
            }
            .about-section, .contact-section {
                padding: 35px 20px;
            }
            .about-section h2, .contact-section h2 {
                font-size: 1.5rem;
            }
            .time-bar {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="animated-bg"></div>
    
    <div class="time-bar">
        <div class="time-display">
            <i class="fas fa-clock"></i>
            <span id="phTime">Loading...</span>
        </div>
        <div class="profile-mini">
            <span>Welcome to STARTCOPE NEWS</span>
            <img src="https://i.ibb.co/Lhr56trN/profile.jpg" alt="Profile" onerror="this.src='https://via.placeholder.com/35?text=S'">
        </div>
    </div>
    
    <header>
        <h1><i class="fas fa-newspaper"></i> STARTCOPE NEWS</h1>
        <p>Latest News from Manila - Your Trusted News Source</p>
    </header>
    
    <nav>
        <a href="#home"><i class="fas fa-home"></i> Home</a>
        <a href="#news"><i class="fas fa-newspaper"></i> News</a>
        <a href="#about"><i class="fas fa-info-circle"></i> About</a>
        <a href="#contact"><i class="fas fa-envelope"></i> Contact</a>
    </nav>
    
    <div class="container">
        <section id="home" class="hero-section">
            <img src="https://i.ibb.co/Lhr56trN/profile.jpg" alt="STARTCOPE Profile" class="profile-image" onerror="this.src='https://via.placeholder.com/120?text=STARTCOPE'">
            <h2>Welcome to STARTCOPE NEWS</h2>
            <p>Stay updated with the latest news from Manila and around the Philippines. We bring you real-time news, trending stories, and breaking updates all in one place.</p>
            <a href="#news" class="btn-primary"><i class="fas fa-rocket"></i> GET STARTED</a>
        </section>
        
        <section class="search-section">
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="Search news... (e.g., politics, sports, entertainment)">
                <button onclick="searchNews()"><i class="fas fa-search"></i> Search</button>
            </div>
        </section>
        
        <h2 id="news" class="section-title"><span>Latest</span> News</h2>
        
        <div id="news-container">
            <div class="loading">
                <div class="loading-spinner"></div>
                <p>Loading latest news...</p>
            </div>
        </div>
        
        <section id="about" class="about-section">
            <h2><i class="fas fa-info-circle"></i> ABOUT THIS WEBSITE</h2>
            <p>STARTCOPE NEWS is your premier destination for the latest news from Manila and the Philippines. We are committed to delivering accurate, timely, and relevant news to keep you informed about what matters most.</p>
            <p>Our mission is to provide quality journalism and keep our community connected with the stories that shape our world.</p>
            <div class="creator">
                <i class="fas fa-user"></i> CREATED BY MANUELSON YASIS
            </div>
            <p class="powered"><i class="fas fa-bolt"></i> POWERED BY STARTCOPE BETA - CAMARINES SUR</p>
        </section>
        
        <section id="contact" class="contact-section">
            <h2><i class="fas fa-headset"></i> CONTACT DEVELOPER</h2>
            <p style="color: #b0b0b0; margin-bottom: 25px;">Get in touch with us through the following channels:</p>
            <div class="contact-buttons">
                <a href="https://www.facebook.com/starcopebetacommenthightlight" target="_blank" class="contact-btn facebook-btn">
                    <i class="fab fa-facebook"></i> Facebook
                </a>
                <a href="mailto:startcopebeta8@gmail.com" class="contact-btn email-btn">
                    <i class="fas fa-envelope"></i> Send Email
                </a>
            </div>
        </section>
    </div>
    
    <footer>
        <p class="brand">STARTCOPE NEWS</p>
        <p>&copy; 2024 STARTCOPE BETA - Camarines Sur, Philippines</p>
        <p>Created by Manuelson Yasis</p>
    </footer>
    
    <!-- ChatGPT Helper Button -->
    <div class="chat-label"><i class="fas fa-robot"></i> CHATGPT HELPER</div>
    <button class="chat-btn" onclick="toggleChat()">
        <img src="https://i.ibb.co/Lhr56trN/profile.jpg" alt="AI Helper" onerror="this.innerHTML='<i class=\'fas fa-robot\' style=\'font-size:2rem;color:#fff;\'></i>'">
    </button>
    
    <!-- Chat Modal -->
    <div class="chat-modal" id="chatModal">
        <div class="chat-header">
            <img src="https://i.ibb.co/Lhr56trN/profile.jpg" alt="AI" onerror="this.src='https://via.placeholder.com/45?text=AI'">
            <div class="chat-header-info">
                <h3>CHATGPT HELPER</h3>
                <p>Powered by AI - Always Online</p>
            </div>
            <button class="chat-close" onclick="toggleChat()"><i class="fas fa-times"></i></button>
        </div>
        <div class="chat-messages" id="chatMessages">
            <div class="message bot">
                Hello! I'm CHATGPT HELPER, your AI assistant for STARTCOPE NEWS. How can I help you today? You can ask me anything about news, the Philippines, or anything else!
            </div>
        </div>
        <div class="chat-input-area">
            <input type="text" id="chatInput" placeholder="Type your message..." onkeypress="if(event.key==='Enter')sendMessage()">
            <button onclick="sendMessage()"><i class="fas fa-paper-plane"></i></button>
        </div>
    </div>
    
    <script>
        // Philippine Time
        function updatePhilippineTime() {
            const options = {
                timeZone: 'Asia/Manila',
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit',
                hour12: true
            };
            const phTime = new Date().toLocaleString('en-PH', options);
            document.getElementById('phTime').textContent = phTime;
        }
        updatePhilippineTime();
        setInterval(updatePhilippineTime, 1000);
        
        // Chat Functions
        function toggleChat() {
            const modal = document.getElementById('chatModal');
            modal.classList.toggle('active');
        }
        
        async function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            if (!message) return;
            
            const messagesDiv = document.getElementById('chatMessages');
            
            // Add user message
            messagesDiv.innerHTML += `<div class="message user">${message}</div>`;
            input.value = '';
            
            // Add typing indicator
            messagesDiv.innerHTML += `<div class="typing-indicator" id="typing"><span></span><span></span><span></span></div>`;
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
            
            try {
                const response = await fetch('/api/chat', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ message })
                });
                
                const data = await response.json();
                
                // Remove typing indicator
                document.getElementById('typing')?.remove();
                
                // Add bot response
                messagesDiv.innerHTML += `<div class="message bot">${data.reply || data.error || 'Sorry, I encountered an error.'}</div>`;
            } catch (error) {
                document.getElementById('typing')?.remove();
                messagesDiv.innerHTML += `<div class="message bot">Sorry, I'm having trouble connecting. Please try again.</div>`;
            }
            
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }
        
        // News Functions
        let allNews = [];
        
        async function fetchNews(query = 'manila') {
            const container = document.getElementById('news-container');
            container.innerHTML = `
                <div class="loading">
                    <div class="loading-spinner"></div>
                    <p>Loading latest news...</p>
                </div>
            `;
            
            try {
                const response = await fetch(`/api/news?q=${encodeURIComponent(query)}`);
                const data = await response.json();
                
                if (data.results && data.results.length > 0) {
                    allNews = data.results;
                    renderNews(allNews);
                } else {
                    container.innerHTML = '<div class="error"><i class="fas fa-exclamation-circle"></i> No news articles found. Try a different search term.</div>';
                }
            } catch (error) {
                container.innerHTML = '<div class="error"><i class="fas fa-exclamation-triangle"></i> Failed to load news. Please try again later.</div>';
            }
        }
        
        function renderNews(articles) {
            const container = document.getElementById('news-container');
            container.innerHTML = '<div class="news-grid"></div>';
            const grid = container.querySelector('.news-grid');
            
            articles.forEach((article, index) => {
                const card = document.createElement('div');
                card.className = 'news-card';
                
                const imageHtml = article.image_url 
                    ? `<img src="${article.image_url}" alt="${article.title}" class="news-image" onerror="this.outerHTML='<div class=\\'news-image placeholder\\'><i class=\\'fas fa-newspaper\\'></i></div>'">`
                    : '<div class="news-image placeholder"><i class="fas fa-newspaper"></i></div>';
                
                const pubDate = article.pubDate ? new Date(article.pubDate).toLocaleDateString('en-PH', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                }) : '';
                
                const description = article.description ? article.description.substring(0, 120) + '...' : '';
                
                card.innerHTML = `
                    ${imageHtml}
                    <div class="news-content">
                        <span class="news-source"><i class="fas fa-broadcast-tower"></i> ${article.source_id || 'News'}</span>
                        <h2 class="news-title">
                            <a href="${article.link}" target="_blank" rel="noopener">${article.title}</a>
                        </h2>
                        <p class="news-description">${description}</p>
                        <div class="news-meta">
                            <span class="news-date"><i class="far fa-calendar"></i> ${pubDate}</span>
                            <div class="news-actions">
                                <button class="action-btn like-btn" onclick="toggleLike(this)">
                                    <i class="fas fa-heart"></i> <span>Like</span>
                                </button>
                                <button class="action-btn share-btn" onclick="shareNews('${article.link}', '${article.title.replace(/'/g, "\\'")}')">
                                    <i class="fas fa-share"></i> Share
                                </button>
                            </div>
                        </div>
                    </div>
                `;
                grid.appendChild(card);
            });
        }
        
        function toggleLike(btn) {
            btn.classList.toggle('liked');
            const span = btn.querySelector('span');
            span.textContent = btn.classList.contains('liked') ? 'Liked' : 'Like';
        }
        
        function shareNews(url, title) {
            if (navigator.share) {
                navigator.share({ title, url });
            } else {
                navigator.clipboard.writeText(url).then(() => alert('Link copied to clipboard!'));
            }
        }
        
        function searchNews() {
            const query = document.getElementById('searchInput').value.trim();
            fetchNews(query || 'manila');
        }
        
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') searchNews();
        });
        
        fetchNews();
    </script>
</body>
</html>
